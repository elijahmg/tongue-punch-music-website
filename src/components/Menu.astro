---
const navItems = [
  { label: "Home", href: "#" },
  { label: "Live", href: "#live" },
  { label: "Music", href: "#music" },
  { label: "Media", href: "#media" },
];

const linkStyle =
  "relative overflow-hidden group text-brand-white font-display text-sm md:text-base tracking-[0.4em] uppercase transition-colors hover:text-brand-accent px-4 py-2";
---

<nav
  id="main-nav"
  class="fixed top-0 left-0 right-0 z-100 transition-all duration-500 py-6 px-4 md:px-12 flex justify-between items-center"
>
  <!-- Brand -->
  <a
    href="#"
    class="text-brand-white font-display text-xl md:text-2xl tracking-tighter uppercase group no-underline"
  >
    TONGUE <span class="text-brand-accent transition-colors">PUNCH</span>
  </a>

  <!-- Desktop -->
  <ul class="hidden md:flex items-center list-none m-0 p-0">
    {
      navItems.map((item) => (
        <li>
          <a href={item.href} class={linkStyle}>
            {item.label}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-brand-accent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" />
          </a>
        </li>
      ))
    }
  </ul>

  <!-- Burger -->
  <button
    id="burger"
    class="md:hidden flex flex-col gap-1.5 z-100 relative"
    aria-label="Toggle menu"
  >
    <span
      class="block w-8 h-0.5 bg-brand-white transition-all duration-300 origin-center"
      id="line1"></span>
    <span
      class="block w-8 h-0.5 bg-brand-white transition-all duration-300 origin-center"
      id="line2"></span>
  </button>
</nav>

<!-- Mobile Overlay (Outside Nav) -->
<div
  id="mobile-menu"
  class="fixed inset-0 bg-brand-black flex flex-col items-center justify-center translate-x-full transition-transform duration-500 z-[90] pointer-events-none"
>
  <ul class="flex flex-col items-center gap-12 list-none m-0 p-0">
    {
      navItems.map((item) => (
        <li>
          <a
            href={item.href}
            class="text-brand-white font-display text-4xl tracking-widest uppercase hover:text-brand-accent transition-colors no-underline"
          >
            {item.label}
          </a>
        </li>
      ))
    }
  </ul>

  <!-- Decorative element -->
  <div
    class="absolute bottom-12 text-brand-white/5 font-display text-[15vw] select-none whitespace-nowrap pointer-events-none md:hidden"
  >
    TONGUE PUNCH
  </div>
</div>

<script>
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobile-menu");
  const nav = document.getElementById("main-nav");
  const line1 = document.getElementById("line1");
  const line2 = document.getElementById("line2");

  let isOpen = false;

  function toggleMenu() {
    isOpen = !isOpen;

    if (isOpen) {
      mobileMenu?.classList.remove("translate-x-full", "pointer-events-none");
      mobileMenu?.classList.add("translate-x-0");
      line1?.classList.add("rotate-45", "translate-y-[4px]");
      line2?.classList.add("-rotate-45", "-translate-y-[4px]");
      document.body.style.overflow = "hidden";
    } else {
      mobileMenu?.classList.remove("translate-x-0");
      mobileMenu?.classList.add("translate-x-full", "pointer-events-none");
      line1?.classList.remove("rotate-45", "translate-y-[4px]");
      line2?.classList.remove("-rotate-45", "-translate-y-[4px]");
      document.body.style.overflow = "";
    }
  }

  burger?.addEventListener("click", toggleMenu);

  // Smooth background on scroll
  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      nav?.classList.add("bg-brand-black/80", "backdrop-blur-md", "py-4");
      nav?.classList.remove("py-6");
    } else {
      nav?.classList.remove("bg-brand-black/80", "backdrop-blur-md", "py-4");
      nav?.classList.add("py-6");
    }
  });

  // Close on link click
  mobileMenu?.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      if (isOpen) toggleMenu();
    });
  });
</script>
